(()=>{"use strict";var t={56:(t,e,n)=>{t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},72:t=>{var e=[];function n(t){for(var n=-1,a=0;a<e.length;a++)if(e[a].identifier===t){n=a;break}return n}function a(t,a){for(var i={},s=[],r=0;r<t.length;r++){var d=t[r],c=a.base?d[0]+a.base:d[0],l=i[c]||0,p="".concat(c," ").concat(l);i[c]=l+1;var h=n(p),m={css:d[1],media:d[2],sourceMap:d[3],supports:d[4],layer:d[5]};if(-1!==h)e[h].references++,e[h].updater(m);else{var u=o(m,a);a.byIndex=r,e.splice(r,0,{identifier:p,updater:u,references:1})}s.push(p)}return s}function o(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,o){var i=a(t=t||[],o=o||{});return function(t){t=t||[];for(var s=0;s<i.length;s++){var r=n(i[s]);e[r].references--}for(var d=a(t,o),c=0;c<i.length;c++){var l=n(i[c]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}i=d}}},113:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},314:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n="",a=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),a&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),a&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n}).join("")},e.i=function(t,n,a,o,i){"string"==typeof t&&(t=[[null,t,void 0]]);var s={};if(a)for(var r=0;r<this.length;r++){var d=this[r][0];null!=d&&(s[d]=!0)}for(var c=0;c<t.length;c++){var l=[].concat(t[c]);a&&s[l[0]]||(void 0!==i&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=i),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),o&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=o):l[4]="".concat(o)),e.push(l))}},e}},365:(t,e,n)=>{n.d(e,{A:()=>r});var a=n(601),o=n.n(a),i=n(314),s=n.n(i)()(o());s.push([t.id,":root {\n    --color1: #3674B5;\n    --color2: #578FCA;\n    --color3: #F5F0CD;\n    --color4: #FADA7A;\n}\n\nbody {\n    background-color:var(--color3);\n    margin: 0px;\n    display: grid;\n    grid-template-columns: 10% 1fr 10%;\n    grid-template-rows: 40px 1fr 40px;\n    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n}\n\nh1, h2, h3, h4, h5 {\n    margin: 0;\n    padding: 0;\n}\n\nul {\n    list-style: none;\n    padding-left: 0;\n    border-bottom: 1px solid black;\n}\n\nheader {\n    background-color: var(--color1);\n    grid-column: 1 / 4;\n    grid-row: 1 / 2;\n    padding-left: 50px;\n    display: grid;\n    align-items: center;\n}\n\nbutton {\n    background-color: var(--color4);\n    border: none;\n    padding-left: 10px;\n    padding-right: 10px;\n    border-radius: 5px;\n    padding-top: 5px;\n    padding-bottom: 5px;\n\n}\n\n#filter {\n    background-color: var(--color2);\n    font-weight: bold;\n    border: none;\n    width: 100%;\n    padding-top: 10px;\n    padding-bottom: 10px;\n    border-top: 1px solid black;\n}\n\n#filter:hover {\n    background-color: var(--color1);\n}\n\nheader p {\n    margin: 0;\n    font-size: 20px;\n    font-weight: bold;\n}\n\n#app-container {\n    margin-top: 20px;\n    margin-bottom: 20px;\n    background-color: var(--color2);\n    grid-column: 2 / 3;\n    grid-row: 2 / 3;\n\n    display: grid;\n    grid-template-columns: 250px 1fr;\n    grid-template-rows: 70px 1fr;\n    border-radius: 20px;\n}\n\n#sidebar {\n    padding-top: 20px;\n    grid-column: 1 / 2;\n    grid-row: 1 / 3;\n    border-right: 1px solid black;\n}\n\n#sidebar form, #sidebar h4, #sidebar h2 {\n    padding-left: 10px;\n}\n\n#sidebar form {\n    display: flex;\n    gap: 5px;\n}\n\n#sidebar h4 {\n    margin-bottom: 5px;\n}\n\n#task-header {\n    padding-top: 20px;\n    padding-left: 20px;\n    grid-column: 2 / 3;\n    grid-row: 1 / 2;\n}\n\n#task-container {\n    padding-left: 20px;\n    padding-right: 20px;\n    grid-column: 2 / 3;\n    grid-row: 2 / 3;\n}\n\nfooter {\n    background-color: brown;\n    grid-column: 1 / 4;\n    grid-row: 3 / 4;\n    display: flex;\n    align-items: center;\n    gap: 30px;\n    justify-content: center;\n    background-color: var(--color1);\n}\n\n.task-card, #add-form {\n    background-color: var(--color3);\n    border-radius: 5px;\n    margin-bottom: 10px;\n}\n\n.collapsed {\n    display: grid;\n    grid-template-columns: repeat(5, 1fr);\n    align-items: center;\n    justify-items: center;\n    text-align: center;\n}\n\n.expanded {\n    padding: 8px;\n}\n\n.expanded form {\n    display: grid;\n    grid-template-columns: 1fr 4fr;\n    row-gap: 10px;\n    column-gap: 10px;\n}\n\n.expanded form input {\n    width: 150px;\n}\n\n.expanded form select {\n    width: 40px;\n}\n\n\n.expanded form button {\n    max-width: 150px;\n}\n\n.completion-toggle {\n    height: 30px;\n    width: 30px;\n}\n\n.strike > p {\n    text-decoration: line-through;\n}\n\n.complete {\n    background-color: green;\n}\n\n.incomplete {\n    background-color: red;\n}\n\n.read-only {\n    background-color: grey;\n}\n\n#add-task {\n    margin-bottom: 20px;\n}\n\n#add-form {\n    padding: 8px;\n}\n\n#add-form {\n    display: grid;\n    grid-template-columns: 1fr 4fr;\n    gap: 10px;\n}\n\n#add-form h3 {\n    grid-column: 1 /3;\n}\n\n#add-form input, #add-form select {\n    width: 150px;\n}\n\n#add-form button {\n    max-width: 150px;\n}",""]);const r=s},540:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},601:t=>{t.exports=function(t){return t[1]}},659:t=>{var e={};t.exports=function(t,n){var a=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(n)}},825:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var a="";n.supports&&(a+="@supports (".concat(n.supports,") {")),n.media&&(a+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(a+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),a+=n.css,o&&(a+="}"),n.media&&(a+="}"),n.supports&&(a+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleTagTransform(a,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}}},e={};function n(a){var o=e[a];if(void 0!==o)return o.exports;var i=e[a]={id:a,exports:{}};return t[a](i,i.exports,n),i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var a in e)n.o(e,a)&&!n.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.nc=void 0;var a=n(72),o=n.n(a),i=n(825),s=n.n(i),r=n(659),d=n.n(r),c=n(56),l=n.n(c),p=n(540),h=n.n(p),m=n(113),u=n.n(m),g=n(365),k={};k.styleTagTransform=u(),k.setAttributes=l(),k.insert=d().bind(null,"head"),k.domAPI=s(),k.insertStyleElement=h(),o()(g.A,k),g.A&&g.A.locals&&g.A.locals;class b{constructor(t,e,n,a,o,i,s,r){this.taskName=t,this.description=e,this.dueDate=n,this.priority=a,this.isComplete=o,this.projectId=i,this.projectName=s,console.log(r),this.id=null===r?crypto.randomUUID():r}toggleComplete(){this.isComplete=!this.isComplete}updateTask(t,e,n,a,o){this.taskName=t,this.description=e,this.dueDate=n,this.priority=a,this.isComplete=o}}class f{constructor(t,e){this.projectName=t,this.taskList=[],this.id=null===e?crypto.randomUUID():e}addTask(t,e,n,a,o,i){const s=new b(t,e,n,a,i,this.id,this.projectName,o);return this.taskList.push(s),s.id}#t(t){for(var e=0;e<this.taskList.length;e++)if(this.taskList[e].id===t)return e;return-1}removeTask(t){for(var e=0;e<this.taskList.length;e++)if(this.taskList[e].id===t)return void this.taskList.splice(e,1)}toggleTaskCompletion(t){const e=this.#t(t);e>=0&&this.taskList[e].toggleComplete()}updateProjectTask(t,e,n,a,o,i){const s=this.#t(t);s>=0&&this.taskList[s].updateTask(e,n,a,o,i)}getTaskFromId(t){const e=this.#t(t);return e>=0?this.taskList[e]:null}}class C{constructor(){this.projectList=[]}addProject(t,e){const n=new f(t,e);return this.projectList.push(n),n}getProjectId(t){return t>=0&&t<this.projectList.length?this.projectList[t].id:null}getProjectName(t){const e=this.#e(t);return-1===e?null:this.projectList[e].projectName}#e(t){for(var e=0;e<this.projectList.length;e++)if(this.projectList[e].id===t)return e;return-1}removeProject(t){console.log(t);const e=this.#e(t);e<0||this.projectList.splice(e,1)}addTaskToProject(t,e,n,a,o,i,s){const r=this.#e(t);if(r>=0)return this.projectList[r].addTask(e,n,a,o,i,s)}removeTask(t,e){const n=this.#e(t);n>=0&&this.projectList[n].removeTask(e)}toggleTaskCompletion(t,e){const n=this.#e(t);n>=0&&this.projectList[n].toggleTaskCompletion(e)}updateTask(t,e,n,a,o,i,s){const r=this.#e(t);console.log(this),r>=0&&this.projectList[r].updateProjectTask(e,n,a,o,i,s)}getAllTasks(){var t=[];for(const e of this.projectList)t=t.concat(e.taskList);return t}getProjectTasks(t){const e=this.#e(t);return e<0?[]:this.projectList[e].taskList}getProjectList(){const t=[];for(const e of this.projectList)t.push([e.projectName,e.id]);return t}getProjectFromId(t){return this.projectList[this.#e(t)]}getTaskFromIds(t,e){console.log(t),console.log(e);const n=this.#e(e);return n>-1?this.projectList[n].getTaskFromId(t):null}}class v{constructor(t){this.activeProject=null,this.controller=t}redrawActiveTasks(t,e,n,a,o,i){const s=document.querySelector("#task-header");for(;s.firstChild;)s.removeChild(s.lastChild);const r=document.createElement("h3");r.textContent=null===i?"Displaying All Tasks":"Displaying Tasks in Project: "+i,s.appendChild(r);const d=document.querySelector("#task-container");for(;d.firstChild;)d.removeChild(d.lastChild);for(const n of t){const t=document.createElement("div");t.classList.add("task-card"),t.classList.add("collapsed"),t.dataset.id=n.id,this.#n(n,t,e,o),d.appendChild(t)}const c=document.createElement("button");c.textContent="Add Task",c.id="add-task",c.addEventListener("click",()=>{this.expandAddTask(n,a)}),d.appendChild(c)}#n(t,e,n,a){const o=document.createElement("p");o.textContent=t.taskName;const i=document.createElement("p");i.textContent=t.dueDate;const s=document.createElement("div");s.textContent="Priority: "+t.priority;const r=document.createElement("button");r.classList.add("completion-toggle"),t.isComplete?(r.classList.add("complete"),e.classList.add("strike")):r.classList.add("incomplete"),r.addEventListener("click",()=>{a(t.id,t.projectId);const n='[data-id="'+t.id+'"]>.completion-toggle';console.log(n);const o=document.querySelector(n);o.classList.toggle("complete"),o.classList.toggle("incomplete"),e.classList.toggle("strike")});const d=document.createElement("button");d.textContent="Expand",d.addEventListener("click",()=>{n(t.id,t.projectId)}),e.appendChild(o),e.appendChild(i),e.appendChild(s),e.appendChild(r),e.appendChild(d)}expandTask(t,e,n,a,o){const i=document.querySelector('[data-id="'+t+'"]');for(i.classList.remove("collapsed"),i.classList.add("expanded");i.firstChild;)i.removeChild(i.lastChild);const s=document.createElement("form"),r=document.createElement("label");r.htmlFor="name",r.textContent="Task Name:";const d=document.createElement("input");d.type="text",d.name="name",d.id="name",d.required=!0,d.value=e.taskName,s.appendChild(r),s.appendChild(d);const c=document.createElement("label");c.htmlFor="project",c.textContent="Project:";const l=document.createElement("input");l.classList.add("read-only"),l.type="text",l.readOnly=!0,l.name="project",l.id="project",l.value=e.projectName,s.appendChild(c),s.appendChild(l);const p=document.createElement("label");p.htmlFor="due-date",p.textContent="Due Date:";const h=document.createElement("input");h.type="date",h.name="due-date",h.id="due-date",h.value=e.dueDate,s.appendChild(p),s.appendChild(h);const m=document.createElement("label");m.htmlFor="descr",m.textContent="Description:";const u=document.createElement("textarea");u.name="descr",u.id="descr",u.rows=5,u.cols=40,u.value=e.description,s.appendChild(m),s.appendChild(u);const g=document.createElement("label");g.htmlFor="priority",g.textContent="Priority:";const k=document.createElement("select");k.name="priority",k.id="priority";for(var b=1;b<4;b++){const t=document.createElement("option");t.value=b,t.textContent=String(b),e.priority===b&&(t.selected=!0),k.appendChild(t)}s.appendChild(g),s.appendChild(k);const f=document.createElement("label");f.htmlFor="complete",f.textContent="Complete?";const C=document.createElement("input");C.type="checkbox",C.name="complete",C.id="complete",e.isComplete&&(C.checked=!0),s.appendChild(f),s.appendChild(C);const v=document.createElement("button");v.textContent="Update Task",v.type="submit",v.addEventListener("click",t=>{t.preventDefault(),n(e.id,e.projectId,d.value,u.value,h.value,k.value,C.checked)});const j=document.createElement("button");j.classList.add("cancel"),j.textContent="Cancel Changes",j.addEventListener("click",t=>{t.preventDefault(),a(e.id,e.projectId)});const x=document.createElement("button");x.classList.add("del"),x.textContent="Delete Task",x.addEventListener("click",t=>{t.preventDefault(),o(e.id,e.projectId),document.querySelector('[data-id="'+e.id+'"]').remove()}),s.appendChild(v),s.appendChild(j),s.appendChild(x),i.appendChild(s)}collapseTask(t,e,n,a){const o=document.querySelector('[data-id="'+t+'"]');for(o.classList.remove("expanded"),o.classList.add("collapsed");o.firstChild;)o.removeChild(o.lastChild);this.#n(e,o,n,a)}appendTask(t,e,n){console.log(t,e,n)}expandAddTask(t,e){const n=document.querySelector("#task-container");document.querySelector("#add-task").style.visibility="hidden";const a=document.createElement("form");a.id="add-form";const o=document.createElement("h3");o.textContent="New Task Details:",a.appendChild(o);const i=document.createElement("label");i.htmlFor="name",i.textContent="Task Name:";const s=document.createElement("input");s.type="text",s.name="name",s.id="name",s.required=!0,a.appendChild(i),a.appendChild(s);const r=e(),d=document.createElement("label");d.htmlFor="project",d.textContent="Project:";const c=document.createElement("select");c.name="priority",c.id="priority";for(var l=0;l<r.length;l++){const t=document.createElement("option");t.value=r[l][1],t.textContent=r[l][0],c.appendChild(t)}a.appendChild(d),a.appendChild(c);const p=document.createElement("label");p.htmlFor="due-date",p.textContent="Due Date:";const h=document.createElement("input");h.type="date",h.name="due-date",h.id="due-date",a.appendChild(p),a.appendChild(h);const m=document.createElement("label");m.htmlFor="descr",m.textContent="Description:";const u=document.createElement("textarea");u.name="descr",u.id="descr",u.rows=5,u.cols=40,a.appendChild(m),a.appendChild(u);const g=document.createElement("label");g.htmlFor="priority",g.textContent="Priority:";const k=document.createElement("select");for(k.name="priority",k.id="priority",l=1;l<4;l++){const t=document.createElement("option");t.value=l,t.textContent=String(l),k.appendChild(t)}a.appendChild(g),a.appendChild(k);const b=document.createElement("button");b.textContent="Add Task",b.type="submit",b.addEventListener("click",e=>{e.preventDefault(),t(s.value,u.value,c.value,h.value,k.value)});const f=document.createElement("button");f.classList.add("cancel"),f.textContent="Cancel",f.addEventListener("click",t=>{t.preventDefault(),this.collapseAddTask()}),a.appendChild(b),a.appendChild(f),n.append(a)}collapseAddTask(){document.querySelector("#add-form").remove();const t=document.querySelector("#task-container"),e=document.querySelector("#add-task");t.appendChild(e),e.style.visibility="visible"}redrawProjectSidebar(t,e,n,a,o){const i=document.querySelector("#sidebar");for(;i.firstChild;)i.removeChild(i.lastChild);const s=document.createElement("h2");s.textContent="Projects",i.appendChild(s);const r=document.createElement("ul"),d=document.createElement("button");d.textContent="Show All Tasks",d.id="filter",d.dataset.id="all",d.addEventListener("click",()=>n());const c=document.createElement("li");c.appendChild(d),r.appendChild(c);for(const e of t){const t=document.createElement("button");t.id="filter",t.textContent=e[0],t.dataset.id=e[1],t.addEventListener("click",()=>a(e[1]));const n=document.createElement("li");n.appendChild(t),r.appendChild(n)}i.appendChild(r);const l=document.createElement("h4");l.textContent="Add Project",i.appendChild(l);const p=document.createElement("form"),h=document.createElement("input"),m=document.createElement("label");m.htmlFor="new",m.textContent="New Project Name: ",m.style.display="none",h.name="new",h.id="new",h.style="text",p.appendChild(m),p.appendChild(h);const u=document.createElement("button");u.type="submit",u.textContent="Add",u.addEventListener("click",t=>{t.preventDefault(),e(h.value)}),p.appendChild(u),i.appendChild(p);const g=document.createElement("h4");g.textContent="Delete Project",i.appendChild(g);const k=document.createElement("form"),b=document.createElement("select"),f=document.createElement("label");f.htmlFor="new",f.textContent="Delete Project: ",b.name="del",b.id="del";for(const e of t){const t=document.createElement("option");t.value=e[1],t.textContent=e[0],b.appendChild(t)}k.append(b);const C=document.createElement("button");C.type="submit",C.textContent="Delete",C.addEventListener("click",t=>{t.preventDefault(),o(b.value)}),k.appendChild(C),i.appendChild(k)}}class j{constructor(){let t;try{t=window.localStorage;const e="__storage_test__";t.setItem(e,e),t.removeItem(e),this.storageActive=!0}catch(t){this.storageActive=!1}this.storageActive&&(this.projectIds={})}isActive(){return this.storageActive}persistProject(t){if(!this.storageActive)return;this.projectIds[t.id]=t.id,localStorage.setItem("projectIds",JSON.stringify(this.projectIds));const e=[];for(const n of t.taskList)e.push(n.id);const n={};n.tasks=e,n.projName=t.projectName,n.id=t.id,localStorage.setItem(t.id,JSON.stringify(n))}persistTask(t){this.storageActive&&(console.log(t),localStorage.setItem(t.id,JSON.stringify(t)))}deleteProject(t){if(this.storageActive){console.log(t),console.log(t.id),delete this.projectIds[t.id],localStorage.setItem("projectIds",JSON.stringify(this.projectIds)),localStorage.removeItem(t.id);for(const e of t.taskList)this.deleteTask(e)}}deleteTask(t){this.storageActive&&localStorage.removeItem(t.id)}recoverProjectIds(){return localStorage.getItem("projectIds")?(this.projectIds=JSON.parse(localStorage.getItem("projectIds")),Object.keys(this.projectIds)):(localStorage.setItem("projectIds",JSON.stringify({})),[])}recoverProjectFromId(t){return localStorage.getItem(t)?JSON.parse(localStorage.getItem(t)):null}recoverTaskFromId(t){return localStorage.getItem(t)?JSON.parse(localStorage.getItem(t)):null}}(new class{constructor(){this.app=new C,this.dispManager=new v(this),this.storageManager=new j,this.activeProject=null,this.initializeProjects()}getActiveProjectName(){return null===this.activeProject?null:this.app.getProjectName(this.activeProject)}initializeProjects(){if(!this.storageManager.isActive())return;const t=this.storageManager.recoverProjectIds();for(const e of t){const t=this.storageManager.recoverProjectFromId(e);if(null!=t){console.log(t),console.log(t.projName),console.log(t.id),this.app.addProject(t.projName,t.id);for(const e of t.tasks){const t=this.storageManager.recoverTaskFromId(e);this.app.addTaskToProject(t.projectId,t.taskName,t.description,t.dueDate,t.priority,t.id,t.isComplete)}}}}expandTaskCallback(t,e){this.dispManager.expandTask(t,this.app.getTaskFromIds(t,e),this.submitEditTaskCallback.bind(this),this.cancelEditTaskCallback.bind(this),this.removeTaskCallback.bind(this))}removeTaskCallback(t,e){this.storageManager.deleteTask(this.app.getTaskFromIds(t,e)),this.app.removeTask(e,t),this.storageManager.persistProject(this.app.getProjectFromId(e))}submitEditTaskCallback(t,e,n,a,o,i,s){this.app.updateTask(e,t,n,a,o,i,s),console.log(this.app.getTaskFromIds(t,e)),this.storageManager.persistTask(this.app.getTaskFromIds(t,e)),this.dispManager.collapseTask(t,this.app.getTaskFromIds(t,e),this.expandTaskCallback.bind(this),this.toggleCallback.bind(this))}cancelEditTaskCallback(t,e){this.dispManager.collapseTask(t,this.app.getTaskFromIds(t,e),this.expandTaskCallback.bind(this),this.toggleCallback.bind(this))}addProjectCallback(t){this.storageManager.persistProject(this.app.addProject(t,null)),this.dispManager.redrawProjectSidebar(this.app.getProjectList(),this.addProjectCallback.bind(this),this.unfilteredProjectCallback.bind(this),this.filteredProjectCallback.bind(this),this.deleteProjectCallback.bind(this))}unfilteredProjectCallback(){this.activeProject=null,this.dispManager.redrawActiveTasks(this.app.getAllTasks(),this.expandTaskCallback.bind(this),this.addTaskCallback.bind(this),this.app.getProjectList.bind(this.app),this.toggleCallback.bind(this),this.getActiveProjectName())}filteredProjectCallback(t){this.activeProject=t,this.dispManager.redrawActiveTasks(this.app.getProjectTasks(t),this.expandTaskCallback.bind(this),this.addTaskCallback.bind(this),this.app.getProjectList.bind(this.app),this.toggleCallback.bind(this),this.getActiveProjectName())}addTaskCallback(t,e,n,a,o){if(""===n){const t=this.app.addProject("Uncategorized Tasks",null);n=t.id,this.storageManager.persistProject(t),this.dispManager.redrawProjectSidebar(this.app.getProjectList(),this.addProjectCallback.bind(this),this.unfilteredProjectCallback.bind(this),this.filteredProjectCallback.bind(this),this.deleteProjectCallback.bind(this))}this.storageManager.persistTask(this.app.getTaskFromIds(this.app.addTaskToProject(n,t,e,a,o,null,!1),n)),this.storageManager.persistProject(this.app.getProjectFromId(n)),null===this.activeProject?this.dispManager.redrawActiveTasks(this.app.getAllTasks(),this.expandTaskCallback.bind(this),this.addTaskCallback.bind(this),this.app.getProjectList.bind(this.app),this.toggleCallback.bind(this),this.getActiveProjectName()):this.dispManager.redrawActiveTasks(this.app.getProjectTasks(this.activeProject),this.expandTaskCallback.bind(this),this.addTaskCallback.bind(this),this.app.getProjectList.bind(this.app),this.toggleCallback.bind(this),this.getActiveProjectName())}deleteProjectCallback(t){this.storageManager.deleteProject(this.app.getProjectFromId(t)),this.app.removeProject(t),this.dispManager.redrawProjectSidebar(this.app.getProjectList(),this.addProjectCallback.bind(this),this.unfilteredProjectCallback.bind(this),this.filteredProjectCallback.bind(this),this.deleteProjectCallback.bind(this)),this.activeProject!==t&&null!==this.activeProject||this.dispManager.redrawActiveTasks(this.app.getAllTasks(),this.expandTaskCallback.bind(this),this.addTaskCallback.bind(this),this.app.getProjectList.bind(this.app),this.toggleCallback.bind(this),this.getActiveProjectName())}initialDraw(){this.dispManager.redrawProjectSidebar(this.app.getProjectList(),this.addProjectCallback.bind(this),this.unfilteredProjectCallback.bind(this),this.filteredProjectCallback.bind(this),this.deleteProjectCallback.bind(this)),this.dispManager.redrawActiveTasks(this.app.getAllTasks(),this.expandTaskCallback.bind(this),this.addTaskCallback.bind(this),this.app.getProjectList.bind(this.app),this.toggleCallback.bind(this),this.getActiveProjectName())}toggleCallback(t,e){this.app.toggleTaskCompletion(e,t),this.storageManager.persistTask(this.app.getTaskFromIds(t,e))}}).initialDraw()})();